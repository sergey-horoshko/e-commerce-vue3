import{s as k}from"./index-CwMS0rzB.js";import{_ as g,i as y,j as p,o as s,e as x,w,h as o,t as d,l as _,k as C,a as f,c as a,F as b,f as P,g as v}from"./index-DLW0Bkq-.js";const j={props:{item:{type:Object,default:null},index:{type:Number,required:!0}},setup(){const r=y(),{addQty:n,removeQty:t,removeProduct:e}=r;return{addQty:n,removeQty:t,removeProduct:e}}},q=["src"],B={class:"flex flex-col gap-4"},F={class:"text-xl font-semibold"},N={class:"text-lg font-bold"},Q={class:"flex h-10 max-w-40 select-none items-center justify-between gap-5 rounded-lg bg-white text-lg text-[#252525]"};function S(r,n,t,e,c,l){const u=p("vue-feather"),m=p("router-link");return s(),x(m,{to:`product/${t.item.id}`,class:"flex w-full gap-8"},{default:w(()=>[o("img",{class:"h-48 w-48",src:t.item.image,alt:"Картинка"},null,8,q),o("div",B,[o("span",F,d(t.item.title),1),o("span",N,d((t.item.price*t.item.quantity).toFixed(2))+" $ ",1),o("div",Q,[o("span",{onClick:n[0]||(n[0]=_(i=>e.removeQty(t.index),["prevent"])),class:"cursor-pointer p-3"}," - "),o("span",null,d(t.item.quantity),1),o("span",{onClick:n[1]||(n[1]=_(i=>e.addQty(t.index),["prevent"])),class:"cursor-pointer p-3"}," + ")])]),C(u,{onClick:n[2]||(n[2]=_(i=>e.removeProduct(t.item),["prevent"])),class:"ml-auto cursor-pointer",type:"x"})]),_:1},8,["to"])}const V=g(j,[["render",S]]),$={setup(){const r=y(),n=f(()=>{let c=0;return e.value.map(l=>{c=c+l.quantity*l.price}),c}),t=f(()=>r.pending),e=f(()=>r.products);return{products:e,pending:t,total:n}},components:{CartProduct:V}},D={class:"flex min-h-60 w-full flex-col"},E=o("h1",{class:"mb-3 mr-auto text-[36px] font-bold"},"Корзина",-1),L={key:1,class:"flex w-full flex-col flex-wrap items-start justify-center gap-6"},M={key:0},O={key:1,class:"text-lg font-bold"};function z(r,n,t,e,c,l){const u=k,m=p("CartProduct");return s(),a("div",D,[E,e.pending?(s(),x(u,{key:0})):(s(),a("div",L,[(s(!0),a(b,null,P(e.products,(i,h)=>(s(),x(m,{key:i.id,item:i,index:h},null,8,["item","index"]))),128)),e.products.length?v("",!0):(s(),a("div",M,"У вас нет товаров в корзине")),e.total?(s(),a("div",O,"Общая сумма покупки составит "+d(e.total.toFixed(2))+" $",1)):v("",!0)]))])}const H=g($,[["render",z]]);export{H as default};
