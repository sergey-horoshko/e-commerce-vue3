import{s as y}from"./index-CwMS0rzB.js";import{d as w,r as g,_ as k,u as S,i as F,m as P,a as v,b as V,j as b,o as p,c as m,h as s,t as i,e as j,k as f,n as B,l as x}from"./index-DLW0Bkq-.js";import{a as C}from"./products-rqLBrR2l.js";const D=w("product",()=>{const o=g(!0),e=g([]);return{pending:o,product:e,getData:async t=>{o.value=!0;try{e.value=await C(t)}catch(r){console.log(r)}finally{o.value=!1}}}}),N={setup(){const o=D(),e=S(),l=F(),t=P(),r=v(()=>o.product),_=v(()=>o.pending),{getData:d}=o,{addProduct:c}=l,{toggleFavorite:n}=e,u=a=>{a!=null&&a.isFavorite&&(a.isFavorite=!1),n(a)};return V(async()=>{await d(t.params.id),localStorage.getItem("favorites")&&JSON.parse(localStorage.getItem("favorites")).find(h=>h.id===r.value.id)&&(r.value.isFavorite=!0)}),{product:r,pending:_,changeValue:u,addProduct:c}}},I={class:"flex w-full flex-col items-center justify-center"},M={class:"mb-3 mr-auto text-[36px] font-bold"},E={key:1,class:"flex items-start justify-between gap-6"},J=["src"],O={class:"flex flex-col gap-3"},R={class:"text-xl"},T={class:"flex items-center gap-3 text-xl"},q={class:"text-xl"},z={class:"flex items-center justify-end gap-3"};function A(o,e,l,t,r,_){var n;const d=y,c=b("vue-feather");return p(),m("div",I,[s("h1",M,i(t.product.title),1),t.pending?(p(),j(d,{key:0})):(p(),m("div",E,[s("img",{src:t.product.image,alt:"",class:"max-w-[500px] rounded"},null,8,J),s("div",O,[s("span",R,i(t.product.description),1),s("span",T,[f(c,{fill:"yellow",stroke:"yellow",type:"star"}),B(" "+i(t.product.rating.rate)+" $ ",1)]),s("span",q,i(t.product.price)+" $ ",1),s("div",z,[f(c,{fill:(n=t.product)!=null&&n.isFavorite?"white":"",class:"cursor-pointer",type:"heart",onClick:e[0]||(e[0]=x(u=>t.changeValue(t.product),["prevent"]))},null,8,["fill"]),f(c,{class:"cursor-pointer",type:"shopping-cart",onClick:e[1]||(e[1]=x(u=>t.addProduct(t.product),["prevent"]))})])])]))])}const L=k(N,[["render",A]]);export{L as default};
